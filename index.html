<script src="https://unpkg.com/paralleljs@1.0/lib/parallel.js"></script>
<script>
  const main = async function () {
    const arr = [];
    for (let i = 1; i <= 1000; i++) {
        arr.push(i);
    }
    const p = new Parallel(arr);

    const helloWorld = function (n) {
      console.log(`\tgreetings #${n}`);
      return n;
    };

    p.map(helloWorld).then(
      (data) => {
        console.log(`done: ${JSON.stringify(data)}`);
      },
      (error) => {
        console.log(`done: ${error}`);
      }
    );
  };

  main();
</script>
